"use strict";(self.webpackChunksquirrel_app=self.webpackChunksquirrel_app||[]).push([[167],{167:(Z,I,G)=>{G.r(I),G.d(I,{createSwipeBackGesture:()=>Q});var x=G(587);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const A=e=>e&&e.dir!==""?e.dir.toLowerCase()==="rtl":document?.dir.toLowerCase()==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class R{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(t){return new W(this,this.newID(),t.name,t.priority||0,!!t.disableScroll)}createBlocker(t={}){return new B(this,this.newID(),t.disable,!!t.disableScroll)}start(t,i,r){return this.canStart(t)?(this.requestedStart.set(i,r),!0):(this.requestedStart.delete(i),!1)}capture(t,i,r){if(!this.start(t,i,r))return!1;const c=this.requestedStart;let n=-1e4;if(c.forEach(a=>{n=Math.max(n,a)}),n===r){this.capturedId=i,c.clear();const a=new CustomEvent("ionGestureCaptured",{detail:{gestureName:t}});return document.dispatchEvent(a),!0}return c.delete(i),!1}release(t){this.requestedStart.delete(t),this.capturedId===t&&(this.capturedId=void 0)}disableGesture(t,i){let r=this.disabledGestures.get(t);r===void 0&&(r=new Set,this.disabledGestures.set(t,r)),r.add(i)}enableGesture(t,i){const r=this.disabledGestures.get(t);r!==void 0&&r.delete(i)}disableScroll(t){this.disabledScroll.add(t),this.disabledScroll.size===1&&document.body.classList.add(O)}enableScroll(t){this.disabledScroll.delete(t),this.disabledScroll.size===0&&document.body.classList.remove(O)}canStart(t){return!(this.capturedId!==void 0||this.isDisabled(t))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(t){const i=this.disabledGestures.get(t);return!!(i&&i.size>0)}newID(){return this.gestureId++,this.gestureId}}class W{constructor(t,i,r,c,n){this.id=i,this.name=r,this.disableScroll=n,this.priority=c*1e6+i,this.ctrl=t}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const t=this.ctrl.capture(this.name,this.id,this.priority);return t&&this.disableScroll&&this.ctrl.disableScroll(this.id),t}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class B{constructor(t,i,r,c){this.id=i,this.disable=r,this.disableScroll=c,this.ctrl=t}block(){if(!!this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.disableGesture(t,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(!!this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.enableGesture(t,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const O="backdrop-no-scroll",V=new R;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const X=(e,t,i,r)=>{const c=j(e)?{capture:!!r.capture,passive:!!r.passive}:!!r.capture;let n,a;return e.__zone_symbol__addEventListener?(n="__zone_symbol__addEventListener",a="__zone_symbol__removeEventListener"):(n="addEventListener",a="removeEventListener"),e[n](t,i,c),()=>{e[a](t,i,c)}},j=e=>{if(T===void 0)try{const t=Object.defineProperty({},"passive",{get:()=>{T=!0}});e.addEventListener("optsTest",()=>{},t)}catch{T=!1}return!!T};let T;const F=2e3,H=(e,t,i,r,c)=>{let n,a,b,u,d,l,S,y=0;const o=f=>{y=Date.now()+F,t(f)&&(!a&&i&&(a=X(e,"touchmove",i,c)),b||(b=X(f.target,"touchend",s,c)),u||(u=X(f.target,"touchcancel",s,c)))},p=f=>{y>Date.now()||!t(f)||(!l&&i&&(l=X(_(e),"mousemove",i,c)),S||(S=X(_(e),"mouseup",v,c)))},s=f=>{h(),r&&r(f)},v=f=>{w(),r&&r(f)},h=()=>{a&&a(),b&&b(),u&&u(),a=b=u=void 0},w=()=>{l&&l(),S&&S(),l=S=void 0},g=()=>{h(),w()},E=(f=!0)=>{f?(n||(n=X(e,"touchstart",o,c)),d||(d=X(e,"mousedown",p,c))):(n&&n(),d&&d(),n=d=void 0,g())};return{enable:E,stop:g,destroy:()=>{E(!1),r=i=t=void 0}}},_=e=>e instanceof Document?e:e.ownerDocument,K=(e,t,i)=>{const r=i*(Math.PI/180),c=e==="x",n=Math.cos(r),a=t*t;let b=0,u=0,d=!1,l=0;return{start(S,y){b=S,u=y,l=0,d=!0},detect(S,y){if(!d)return!1;const o=S-b,p=y-u,s=o*o+p*p;if(s<a)return!1;const v=Math.sqrt(s),h=(c?o:p)/v;return h>n?l=1:h<-n?l=-1:l=0,d=!1,!0},isGesture(){return l!==0},getDirection(){return l}}},N=e=>{let t=!1,i=!1,r=!0,c=!1;const n=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),a=n.canStart,b=n.onWillStart,u=n.onStart,d=n.onEnd,l=n.notCaptured,S=n.onMove,y=n.threshold,o=n.passive,p=n.blurOnStart,s={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},v=K(n.direction,n.threshold,n.maxAngle),h=V.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),w=m=>{const P=z(m);return i||!r||(k(m,s),s.startX=s.currentX,s.startY=s.currentY,s.startTime=s.currentTime=P,s.velocityX=s.velocityY=s.deltaX=s.deltaY=0,s.event=m,a&&a(s)===!1)||(h.release(),!h.start())?!1:(i=!0,y===0?Y():(v.start(s.startX,s.startY),!0))},g=m=>{if(t){!c&&r&&(c=!0,C(s,m),requestAnimationFrame(E));return}C(s,m),v.detect(s.currentX,s.currentY)&&(!v.isGesture()||!Y())&&U()},E=()=>{!t||(c=!1,S&&S(s))},Y=()=>h&&!h.capture()?!1:(t=!0,r=!1,s.startX=s.currentX,s.startY=s.currentY,s.startTime=s.currentTime,b?b(s).then(D):D(),!0),f=()=>{if(typeof document<"u"){const m=document.activeElement;m?.blur&&m.blur()}},D=()=>{p&&f(),u&&u(s),r=!0},M=()=>{t=!1,i=!1,c=!1,r=!0,h.release()},q=m=>{const P=t,J=r;if(M(),!!J){if(C(s,m),P){d&&d(s);return}l&&l(s)}},L=H(n.el,w,g,q,{capture:!1,passive:o}),U=()=>{M(),L.stop(),l&&l(s)};return{enable(m=!0){m||(t&&q(void 0),M()),L.enable(m)},destroy(){h.destroy(),L.destroy()}}},C=(e,t)=>{if(!t)return;const i=e.currentX,r=e.currentY,c=e.currentTime;k(t,e);const n=e.currentX,a=e.currentY,u=(e.currentTime=z(t))-c;if(u>0&&u<100){const d=(n-i)/u,l=(a-r)/u;e.velocityX=d*.7+e.velocityX*.3,e.velocityY=l*.7+e.velocityY*.3}e.deltaX=n-e.startX,e.deltaY=a-e.startY,e.event=t},k=(e,t)=>{let i=0,r=0;if(e){const c=e.changedTouches;if(c&&c.length>0){const n=c[0];i=n.clientX,r=n.clientY}else e.pageX!==void 0&&(i=e.pageX,r=e.pageY)}t.currentX=i,t.currentY=r},z=e=>e.timeStamp||Date.now();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Q=(e,t,i,r,c)=>{const n=e.ownerDocument.defaultView,a=A(e),b=o=>{const{startX:s}=o;return a?s>=n.innerWidth-50:s<=50},u=o=>a?-o.deltaX:o.deltaX,d=o=>a?-o.velocityX:o.velocityX;return N({el:e,gestureName:"goback-swipe",gesturePriority:40,threshold:10,canStart:o=>b(o)&&t(),onStart:i,onMove:o=>{const s=u(o)/n.innerWidth;r(s)},onEnd:o=>{const p=u(o),s=n.innerWidth,v=p/s,h=d(o),w=s/2,g=h>=0&&(h>.2||p>w),Y=(g?1-v:v)*s;let f=0;if(Y>5){const D=Y/Math.abs(h);f=Math.min(D,540)}c(g,v<=0?.01:(0,x.j)(0,v,.9999),f)}})}}}]);
